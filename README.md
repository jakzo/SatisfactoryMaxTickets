# satisfactory-max-tickets

_Calculates max ticket points-per-minute for Satisfactory._

### So what does the calculator say?

Here's the output as of Satisfactory 0.5.1:

```js
Alternate: Pure Iron Ingot (12222.99719116 x Iron Ore, 6984.56982352 x Water -> 349.228491176 x Refinery -> 22699.85192644 x Iron Ingot)
Alternate: Heavy Oil Residue (990 x Crude Oil -> 33 x Refinery -> 1320 x Heavy Oil Residue, 660 x Polymer Resin)
Residual Rubber (660 x Polymer Resin, 660 x Water -> 16.5 x Refinery -> 330 x Rubber)
Alternate: Wet Concrete (1786.87417758 x Limestone, 1489.06181465 x Water -> 14.8906181465 x Refinery -> 1191.24945172 x Concrete)
Alternate: Compacted Coal (490.68707695 x Coal, 490.68707695 x Sulfur -> 19.627483078 x Assembler -> 490.68707695 x Compacted Coal)
Alternate: Pure Quartz Crystal (30.19868406 x Raw Quartz, 16.7770467 x Water -> 0.447387912 x Refinery -> 23.48786538 x Quartz Crystal)
Alternate: Cheap Silica (2739.60263181 x Raw Quartz, 4566.00438635 x Limestone -> 243.52023393866665 x Assembler -> 6392.40614089 x Silica)
Petroleum Coke (275.67144248 x Heavy Oil Residue -> 6.8917860619999995 x Refinery -> 827.01432744 x Petroleum Coke)
Alternate: Sloppy Alumina (489 x Bauxite, 489 x Water -> 2.445 x Refinery -> 586.8 x Alumina Solution)
Alternate: Iron Wire (34021.0780069 x Iron Ingot -> 2721.686240552 x Constructor -> 61237.94041242 x Wire)
Alternate: Coke Steel Ingot (871.6286548500001 x Iron Ore, 871.6286548500001 x Petroleum Coke -> 11.621715398000001 x Foundry -> 1162.1715398000001 x Steel Ingot)
Alternate: Pure Caterium Ingot (920 x Caterium Ore, 920 x Water -> 38.333333333333336 x Refinery -> 460 x Caterium Ingot)
Alternate: Pure Copper Ingot (11544 x Copper Ore, 7696 x Water -> 769.6 x Refinery -> 28860 x Copper Ingot)
Alternate: Compacted Steel Ingot (1308.49887186 x Iron Ore, 654.24943593 x Compacted Coal -> 58.155505416 x Foundry -> 2180.8314531 x Steel Ingot)
Alternate: Electrode - Aluminum Scrap (782.4000000000001 x Alumina Solution, 260.8 x Petroleum Coke -> 4.346666666666667 x Refinery -> 1304 x Aluminum Scrap, 456.40000000000003 x Water)
Alternate: Pure Aluminum Ingot (652 x Aluminum Scrap -> 10.866666666666667 x Smelter -> 326 x Aluminum Ingot)
Alternate: Steamed Copper Sheet (3526.5786450600003 x Copper Ingot, 3526.5786450600003 x Water -> 156.73682866933333 x Refinery -> 3526.5786450600003 x Copper Sheet)
Alternate: Solid Steel Ingot (1422.32823076 x Iron Ingot, 1422.32823076 x Coal -> 35.558205769 x Foundry -> 2133.49234614 x Steel Ingot)
Alternate: Fused Quickwire (736 x Caterium Ingot, 3680 x Copper Ingot -> 98.13333333333334 x Assembler -> 8832 x Quickwire)
Alternate: Diluted Fuel (1044.3285575 x Heavy Oil Residue, 2088.657115 x Water -> 20.88657115 x Blender -> 2088.657115 x Fuel)
Alternate: Steel Rod (242.79048657 x Steel Ingot -> 20.2325405475 x Constructor -> 971.16194628 x Iron Rod)
Screw (145.03756885 x Iron Rod -> 14.503756885000001 x Constructor -> 580.1502754 x Screw)
Alternate: Alclad Casing (212.95664639999998 x Aluminum Ingot, 106.47832319999999 x Copper Ingot -> 1.419710976 x Assembler -> 159.7174848 x Aluminum Casing)
Alternate: Silicon Circuit Board (9445.24460275 x Copper Sheet, 9445.24460275 x Silica -> 343.46344009999996 x Assembler -> 4293.29300125 x Circuit Board)
Alternate: Recycled Plastic (1753.26140814 x Rubber, 1753.26140814 x Fuel -> 58.442046938 x Refinery -> 3506.52281628 x Plastic)
Alternate: Copper Rotor (178.50777708 x Copper Sheet, 1547.06740136 x Screw -> 7.933678981333333 x Assembler -> 89.25388854 x Rotor)
AI Limiter (433.36483345 x Copper Sheet, 1733.4593338 x Quickwire -> 17.334593337999998 x Assembler -> 86.67296669 x AI Limiter)
Alternate: Caterium Computer (1943.4755995199998 x Circuit Board, 7773.902398079999 x Quickwire, 3331.6724563199996 x Rubber -> 74.037165696 x Manufacturer -> 277.63937136 x Computer)
Steel Pipe (5229.19329861 x Steel Ingot -> 174.306443287 x Constructor -> 3486.12886574 x Steel Pipe)
Stator (2465.6820118799997 x Steel Pipe, 6575.15203168 x Wire -> 164.378800792 x Assembler -> 821.89400396 x Stator)
Wire (1039.74576661 x Copper Ingot -> 69.31638444066667 x Constructor -> 2079.49153322 x Wire)
Cable (3399.13209724 x Wire -> 56.652201620666666 x Constructor -> 1699.56604862 x Cable)
Automated Wiring (921.30969458 x Stator, 18426.1938916 x Cable -> 368.52387783200004 x Assembler -> 921.30969458 x Automated Wiring)
High-Speed Connector (7349.43511624 x Quickwire, 1312.3991279000002 x Cable, 131.23991279 x Circuit Board -> 34.99731007733333 x Manufacturer -> 131.23991279 x High-Speed Connector)
Alternate: Automated Speed Wiring (555.54410102 x Stator, 11110.8820204 x Wire, 277.77205051 x High-Speed Connector -> 148.14509360533333 x Manufacturer -> 1111.08820204 x Automated Wiring)
Alternate: Encased Industrial Pipe (3720.05071193 x Steel Pipe, 2657.1790799500004 x Concrete -> 132.8589539975 x Assembler -> 531.43581599 x Encased Industrial Beam)
Empty Fluid Tank (7.04635962 x Aluminum Ingot -> 0.117439327 x Constructor -> 7.04635962 x Empty Fluid Tank)
Alternate: Heat Exchanger (63.41723658000001 x Aluminum Casing, 63.41723658000001 x Rubber -> 2.1139078860000002 x Assembler -> 21.13907886 x Heat Sink)
Cooling System (35.2317981 x Heat Sink, 35.2317981 x Rubber, 88.07949525 x Water, 440.39747625 x Nitrogen Gas -> 2.935983175 x Blender -> 17.61589905 x Cooling System)
Alclad Aluminum Sheet (511.76587179 x Aluminum Ingot, 170.58862393 x Copper Ingot -> 17.058862393000002 x Assembler -> 511.76587179 x Alclad Aluminum Sheet)
Alternate: Silicon High-Speed Connector (573.4584348 x Quickwire, 238.9410145 x Silica, 19.11528116 x Circuit Board -> 6.371760386666666 x Manufacturer -> 19.11528116 x High-Speed Connector)
Alternate: Recycled Rubber (2090.13738888 x Plastic, 2090.13738888 x Fuel -> 69.671246296 x Refinery -> 4180.27477776 x Rubber)
Packaged Nitrogen Gas (28.18543848 x Nitrogen Gas, 7.04635962 x Empty Fluid Tank -> 0.117439327 x Packager -> 7.04635962 x Packaged Nitrogen Gas)
Electromagnetic Control Rod (311.81170077 x Stator, 207.87446718 x AI Limiter -> 51.968616795 x Assembler -> 207.87446718 x Electromagnetic Control Rod)
Alternate: Steel Coated Plate (581.3614986 x Steel Ingot, 387.5743324 x Plastic -> 77.51486648 x Assembler -> 3488.1689916 x Iron Plate)
Alternate: Adhered Iron Plate (520.98260814 x Iron Plate, 173.66086938 x Rubber -> 46.309565168 x Assembler -> 173.66086938 x Reinforced Iron Plate)
Nitric Acid (169.11263087999998 x Nitrogen Gas, 42.278157719999996 x Water, 14.09271924 x Iron Plate -> 1.409271924 x Blender -> 42.278157719999996 x Nitric Acid)
Alternate: Insulated Crystal Oscillator (93.95146159999999 x Quartz Crystal, 65.76602312 x Rubber, 9.39514616 x AI Limiter -> 5.010744618666666 x Manufacturer -> 9.39514616 x Crystal Oscillator)
Alternate: Plastic Smart Plating (35.2317981 x Reinforced Iron Plate, 35.2317981 x Rotor, 105.6953943 x Plastic -> 14.09271924 x Manufacturer -> 70.4635962 x Smart Plating)
Radio Control Unit (450.96701568 x Aluminum Casing, 14.09271924 x Crystal Oscillator, 14.09271924 x Computer -> 11.274175392 x Manufacturer -> 28.18543848 x Radio Control Unit)
Alternate: Electric Motor (32.88301156 x Electromagnetic Control Rod, 65.76602312 x Rotor -> 8.768803082666667 x Assembler -> 65.76602312 x Motor)
Alternate: Classic Battery (584.87528202 x Sulfur, 682.3544956899999 x Alclad Aluminum Sheet, 779.83370936 x Plastic, 1169.75056404 x Wire -> 12.997228489333333 x Manufacturer -> 389.91685468 x Battery)
Alternate: Stitched Iron Plate (3533.7656033000003 x Iron Plate, 7067.531206600001 x Wire -> 188.46749884266669 x Assembler -> 1060.12968099 x Reinforced Iron Plate)
Modular Frame (2550.89191674 x Reinforced Iron Plate, 10203.56766696 x Iron Rod -> 850.29730558 x Assembler -> 1700.59461116 x Modular Frame)
Modular Engine (176.15899052 x Motor, 1321.1924289 x Rubber, 176.15899052 x Smart Plating -> 88.07949526 x Manufacturer -> 88.07949526 x Modular Engine)
Alternate: Super-State Computer (365.54705127 x Computer, 243.69803418 x Electromagnetic Control Rod, 2436.9803418 x Battery, 5483.2057690500005 x Wire -> 101.540847575 x Manufacturer -> 243.69803418 x Supercomputer)
Alternate: Heavy Encased Frame (1813.96758528 x Modular Frame, 2267.4594816 x Encased Industrial Beam, 8162.85413376 x Steel Pipe, 4988.4108595200005 x Concrete -> 241.862344704 x Manufacturer -> 680.23784448 x Heavy Modular Frame)
Alternate: Heat-Fused Frame (17.61589905 x Heavy Modular Frame, 880.7949525 x Aluminum Ingot, 140.9271924 x Nitric Acid, 176.1589905 x Fuel -> 5.87196635 x Blender -> 17.61589905 x Fused Modular Frame)
Adaptive Control Unit (8773.12923045 x Automated Wiring, 5848.7528203 x Circuit Board, 1169.75056406 x Heavy Modular Frame, 1169.75056406 x Computer -> 1169.75056406 x Manufacturer -> 1169.75056406 x Adaptive Control Unit)
Assembly Director System (779.83370938 x Adaptive Control Unit, 389.91685469 x Supercomputer -> 519.8891395866666 x Assembler -> 389.91685469 x Assembly Director System)
Pressure Conversion Cube (17.61589905 x Fused Modular Frame, 35.2317981 x Radio Control Unit -> 17.61589905 x Assembler -> 17.61589905 x Pressure Conversion Cube)
Alternate: Turbo Pressure Motor (37.58058464 x Motor, 9.39514616 x Pressure Conversion Cube, 225.48350784 x Packaged Nitrogen Gas, 75.16116928 x Stator -> 5.010744618666666 x Manufacturer -> 18.79029232 x Turbo Motor)
Thermal Propulsion Rocket (176.1589905 x Modular Engine, 70.4635962 x Turbo Motor, 211.3907886 x Cooling System, 70.4635962 x Fused Modular Frame -> 70.4635962 x Manufacturer -> 70.4635962 x Thermal Propulsion Rocket)
Result: {
  totalSinkPoints: 184161611.12184173,
  powerProduced: 578105.7953358546,
  powerConsumed: 578105.795330977,
  generators: {
    Build_GeneratorBiomass_C__Desc_FlowerPetals_C: 0,
    Build_GeneratorFuel_C__Desc_LiquidBiofuel_C: 0,
    Build_GeneratorBiomass_C__Desc_Fabric_C: 0,
    Build_GeneratorFuel_C__Desc_LiquidFuel_C: 1141.10019351,
    Build_GeneratorNuclear_C__Desc_NuclearFuelRod_C: 0,
    Build_GeneratorGeoThermal_C__normal: 9,
    Build_GeneratorGeoThermal_C__impure: 3,
    Build_GeneratorGeoThermal_C__pure: 6
  },
  machines: {
    Constructor: 11681.46626452,
    Assembler: 7314.911105800001,
    Foundry: 987.3558376799999,
    Blender: 258.19022884,
    Manufacturer: 1918.58453921,
    Refinery: 6925.42076996,
    Smelter: 326,
    Packager: 7.04635962
  },
  totalBuildings: 32302,
  miners: {
    'Bauxite (impure) - Miner Mk.3 @ 250%': 5,
    'Bauxite (normal) - Miner Mk.3 @ 250%': 6,
    'Bauxite (pure) - Miner Mk.3 @ 163%': 6,
    'Caterium Ore (normal) - Miner Mk.3 @ 250%': 8,
    'Caterium Ore (pure) - Miner Mk.3 @ 163%': 8,
    'Coal (impure) - Miner Mk.3 @ 250%': 6,
    'Coal (normal) - Miner Mk.3 @ 250%': 29,
    'Coal (pure) - Miner Mk.3 @ 163%': 15,
    'Copper Ore (impure) - Miner Mk.3 @ 250%': 9,
    'Copper Ore (normal) - Miner Mk.3 @ 250%': 28,
    'Copper Ore (pure) - Miner Mk.3 @ 163%': 12,
    'Crude Oil (impure) - Oil Extractor @ 250%': 10,
    'Crude Oil (normal) - Oil Extractor @ 250%': 12,
    'Crude Oil (pure) - Oil Extractor @ 250%': 8,
    'Iron Ore (impure) - Miner Mk.3 @ 250%': 33,
    'Iron Ore (normal) - Miner Mk.3 @ 250%': 41,
    'Iron Ore (pure) - Miner Mk.3 @ 163%': 46,
    'Limestone (impure) - Miner Mk.3 @ 250%': 12,
    'Limestone (normal) - Miner Mk.3 @ 250%': 47,
    'Limestone (pure) - Miner Mk.3 @ 163%': 27,
    'Nitrogen Gas (normal x 1 + pure x 6) - Resource Well Pressurizer @ 250%': 0.47417306,
    'Nitrogen Gas (pure x 10) - Resource Well Pressurizer @ 250%': 1,
    'Nitrogen Gas (pure x 7) - Resource Well Pressurizer @ 250%': 1,
    'Raw Quartz (normal) - Miner Mk.3 @ 250%': 11,
    'Raw Quartz (pure) - Miner Mk.3 @ 163%': 5,
    'Sulfur (impure) - Miner Mk.3 @ 250%': 1,
    'Sulfur (normal) - Miner Mk.3 @ 250%': 7,
    'Sulfur (pure) - Miner Mk.3 @ 163%': 3
  }
}
Sunk items: {
  'Thermal Propulsion Rocket': 35.2317981,
  Concrete: 8519.6375338,
  'Assembly Director System': 292.43764101749997
}
```

For more data see [these sheets](https://docs.google.com/spreadsheets/d/1YzRZ0H7wnJFTyRRWhLTYx0fJCwOxv9GCJbd5QW5cJEI/edit?usp=sharing).

### What can't it do yet?

- Recipes using the particle accelerator
  - I just need to add per-recipe power consumption for this to work
- Underclocking to specific levels
  - This tool only allows underclocks to particular intervals (by default 1%, 10%, 20%, ... 100% for factories, up to 250% for miners, etc.)
  - This is because exponential constraints like how power consumption scales cannot be represented in the linear programming model

### Where does the data come from?

I tried to find current data which was scraped from the game files themselves.

- [src/data.json](./src/data.json)
  - Comes from https://github.com/greeny/SatisfactoryTools/blob/dev/data/data.json
  - See Satisfactory Tools' readme for how that data is scraped from game files
- [src/map.json](./src/map.json)
  - Comes from https://satisfactory-calculator.com/en/interactive-map/index/json
  - I'm not sure if Satisfactory Calculator is open source but based on the names in the data it looks like it was scraped from game files

Thanks to Satisfactory Tools and Satisfactory Calculator for the source data!

### Links

- Prior art: https://www.reddit.com/r/satisfactory/comments/ph878m/i_have_calculated_theoretical_maximum_of_coupon/

## Contributing

See [CONTRIBUTING.md](./CONTRIBUTING.md) for instructions how to develop locally and make changes.
